# 用户管理系统演示指南

## 概述

本项目已实现了基于角色的用户管理系统，包含以下功能：

- 统一登录页面，支持三种用户角色
- 基于角色的权限控制
- 管理员用户管理界面
- 普通用户专用仪表盘

## 测试账号

### 超级管理员
- **用户名**: `superadmin`
- **密码**: `admin123`
- **权限**: 
  - 查看管理员仪表盘
  - 创建/管理普通管理员和用户
  - 访问所有系统功能

### 普通管理员
- **用户名**: `admin`
- **密码**: `admin123`
- **权限**:
  - 查看管理员仪表盘
  - 只能创建/管理普通用户（不能管理其他管理员）
  - 访问大部分系统功能

### 普通用户
- **用户名**: `user`
- **密码**: `user123`
- **权限**:
  - 查看用户专用仪表盘
  - 无法访问管理功能

## 功能测试步骤

### 1. 登录功能测试

1. 访问 `http://localhost:3000/login`
2. 使用上述任一测试账号登录
3. 验证登录成功后跳转到对应的页面：
   - 管理员角色 → 管理员仪表盘 (`/`)
   - 普通用户 → 用户仪表盘 (`/dashboard`)

### 2. 权限控制测试

1. **超级管理员测试**：
   - 登录后可以看到"用户管理"菜单项
   - 访问 `/admin/users` 可以看到所有用户
   - 可以创建管理员和普通用户

2. **普通管理员测试**：
   - 登录后可以看到"用户管理"菜单项
   - 访问 `/admin/users` 只能看到自己创建的用户
   - 创建用户时只能选择"用户"角色

3. **普通用户测试**：
   - 登录后看不到"用户管理"菜单项
   - 直接访问 `/admin/users` 会被重定向到 `/dashboard`
   - 只能看到自己的用户专用界面

### 3. 用户管理功能测试

1. 使用管理员账号登录
2. 访问"用户管理"页面
3. 测试以下功能：
   - 创建新用户
   - 搜索用户
   - 启用/禁用用户账户
   - 删除用户（不能删除自己）

### 4. 路由保护测试

1. 尝试在未登录状态下访问 `/` 或 `/admin/users`
2. 验证自动跳转到登录页面
3. 使用普通用户账号尝试访问管理员页面
4. 验证权限不足时的重定向

## 技术特性

### 前端特性
- **React + Next.js 15**: 现代化前端框架
- **TypeScript**: 类型安全
- **Tailwind CSS + shadcn/ui**: 现代化UI组件库
- **客户端状态管理**: 基于localStorage的简单状态管理
- **路由保护**: 基于角色的路由访问控制

### 用户体验特性
- **响应式设计**: 支持桌面和移动设备
- **暗色模式**: 支持明暗主题切换
- **实时反馈**: 使用toast通知提供操作反馈
- **加载状态**: 提供加载指示器
- **权限可视化**: 根据用户角色动态显示菜单和功能

### 安全特性
- **JWT Token**: 基于token的身份验证
- **权限分离**: 严格的角色权限控制
- **路由保护**: 防止未授权访问
- **输入验证**: 表单数据验证

## 注意事项

1. **数据持久化**: 当前使用模拟数据，刷新页面后创建的用户数据会丢失
2. **后端集成**: 需要根据真实后端API接口调整 `lib/auth.ts` 中的API调用
3. **生产环境**: 部署前需要配置真实的认证服务和数据库

## 下一步开发建议

1. **后端集成**: 连接真实的后端API
2. **数据持久化**: 集成数据库
3. **密码重置**: 实现忘记密码功能
4. **用户资料**: 完善用户个人资料管理
5. **审计日志**: 添加用户操作日志记录
6. **邮件通知**: 用户创建时发送邮件通知
7. **批量操作**: 支持批量用户管理操作

## 启动命令

```bash
cd wechat-sales-assistant
npm run dev
```

访问 `http://localhost:3000/login` 开始测试！ 